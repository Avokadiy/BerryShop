exports.id=380,exports.ids=[380],exports.modules={1177:()=>{},2107:(e,t,s)=>{"use strict";s.d(t,{default:()=>m});var a=s(687),l=s(3210),r=s(6386),i=s(474);s(5866),s(2822),s(1177);var n=s(1626),o=s(2036),d=s(3729);let c=({images:e,productName:t})=>Array.isArray(e)&&0!==e.length?(0,a.jsx)("div",{children:(0,a.jsxs)(o.RC,{modules:[n.Vx],slidesPerView:1,navigation:{nextEl:".swiper-button-left",prevEl:".swiper-button-right"},className:"relative",centeredSlides:!0,children:[e.map((e,t)=>(0,a.jsx)(o.qr,{children:(0,a.jsx)(i.default,{src:e,alt:"bouquet",width:300,height:400,className:"object-cover rounded-md cursor-pointer m-auto w-100 h-130",loading:"lazy"})},t)),(0,a.jsx)(i.default,{src:d.A,alt:"arrow",width:30,className:"swiper-button-left"}),(0,a.jsx)(i.default,{src:d.A,alt:"arrow",height:30,className:"swiper-button-right"})]})}):(0,a.jsx)("p",{children:"Нет изображений"}),m=({id:e,title:t,category:s})=>{let{addToCart:n}=(0,r._)(),o="string"==typeof s?[s]:s,{products:d,loading:m,error:x}=function(){let[e,t]=(0,l.useState)([]),[s,a]=(0,l.useState)(!0),[r,i]=(0,l.useState)(null);return{products:e,loading:s,error:r}}(o),u=d.filter(e=>"string"==typeof e.category?o.includes(e.category):!!Array.isArray(e.category)&&e.category.some(e=>o.includes(e))),[h,p]=(0,l.useState)(null),[g,f]=(0,l.useState)(""),[b,j]=(0,l.useState)(0),[w,v]=(0,l.useState)(!1),[y,N]=(0,l.useState)(""),k=(0,l.useCallback)(e=>{p(e);let t=e.options.size?.[0],s=e.price?.[0];f(t||""),j(s||0),v(!0),N(e.image)},[]),C=(0,l.useCallback)(()=>{p(null),v(!1)},[]);return((0,l.useEffect)(()=>(w?(document.body.style.overflow="hidden",document.body.style.paddingRight=`${window.innerWidth-document.documentElement.clientWidth}px`):(document.body.style.overflow="",document.body.style.paddingRight=""),()=>{document.body.style.overflow="",document.body.style.paddingRight=""}),[w]),m)?(0,a.jsx)("div",{className:"loader",children:"Загрузка..."}):x?(0,a.jsxs)("p",{className:"text-red-500",children:["Ошибка: ",x]}):(0,a.jsxs)("section",{id:e,className:"my-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-center mb-4",children:t}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 w-11/12 ml-auto mr-auto",children:m?(0,a.jsx)("div",{className:"loader",children:"Загрузка..."}):x?(0,a.jsxs)("p",{className:"text-red-500",children:["Ошибка: ",x]}):0===u.length?(0,a.jsx)("p",{className:"text-center",children:"Нет товаров в этой категории."}):u.map(e=>{if(!e.name||!e.price||!e.image)return console.error(`Ошибка: отсутствуют обязательные данные для продукта с id ${e.id}`),null;let t=e.images&&Array.isArray(e.images)&&e.images.length>1;return(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md flex flex-col justify-between",children:[(0,a.jsx)("div",{className:"relative w-full 2x1:h-100",children:t?(0,a.jsx)(c,{images:e.images,productName:e.name}):(0,a.jsx)(i.default,{src:e.image,alt:e.name,className:"object-cover rounded-md cursor-pointer w-100 h-130",width:300,height:400,onClick:()=>k(e),loading:"lazy"})}),(0,a.jsx)("h3",{className:"mt-2 text-lg font-semibold",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500 line-clamp-2",children:e.description||"Без описания"}),(0,a.jsxs)("p",{className:"text-red-500 font-bold",children:[e.price[0]," ₽"]}),(0,a.jsx)("button",{className:"mt-2 bg-[#F1ADAE] text-white px-4 py-2 rounded-md shadow-md hover:bg-[#ec9898] transition",onClick:()=>k(e),children:"Заказать"})]},e.id)})}),w&&h&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-opacity-50 backdrop-blur-sm animate-fade-in overflow-y-auto py-8",onClick:C,children:(0,a.jsxs)("div",{className:"bg-white w-full max-w-lg p-6 rounded-2xl shadow-2xl transform transition-all scale-100 animate-fade-in max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("button",{className:"absolute top-4 right-4 text-xl font-bold text-gray-500",onClick:C}),(0,a.jsx)("h3",{className:"text-xl font-bold text-center mb-2",children:h.name}),(0,a.jsx)("p",{className:"text-gray-600 text-center",children:h.description||"Без описания"}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(c,{images:h.images,productName:h.productName})}),(0,a.jsx)("div",{className:"flex",children:h.options.size?.map((e,t)=>a.jsx("div",{children:a.jsx("button",{onClick:()=>{f(e),j(h.price[t])},className:`${g===e?"bg-gray-300":""} rounded-2xl p-2 hover:bg-gray-100 transition-colors`,children:e})},t))}),(0,a.jsxs)("p",{className:"text-lg font-bold text-red-600 mb-4",children:["Итого: ",b," ₽"]}),(0,a.jsx)("button",{onClick:()=>{if(!g){alert("Выберите вариант!");return}n({...h,selectedOption:g,price:b}),C()},className:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600",children:"Добавить в корзину"})]})})]})}},4747:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});var a=s(687),l=s(3210);let r=({categories:e})=>{let[t,s]=(0,l.useState)(null),[r,i]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=()=>{let e=document.getElementById("category-nav");e&&i(window.scrollY>e.offsetTop+e.offsetHeight)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);let n=e=>{let t=document.getElementById(e);t&&(window.scrollTo({top:t.offsetTop-60,behavior:"smooth"}),s(e))};return(0,a.jsxs)("div",{id:"category-nav",className:"relative",children:[(0,a.jsx)("div",{className:"flex flex-wrap justify-center gap-4 my-6",children:e.map(e=>(0,a.jsx)("button",{onClick:()=>n(e.id),className:`cursor-pointer px-4 py-2 rounded-md shadow-md transition-transform transform hover:scale-105
              ${t===e.id?"bg-[#49321d]":"bg-[#F1ADAE]"}
              hover:bg-[#49321d] text-white`,children:e.name},e.id))}),r&&(0,a.jsx)("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"fixed top-[60px] right-8 bg-[#9E0E05] text-white px-4 py-2 rounded-full shadow-md transition-opacity opacity-80 hover:opacity-100 z-50",children:"↑ Вверх"})]})}},6534:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var a=s(687),l=s(7590);function r(){l.Ay.success("Для большей информации свяжитесь с менеджером")}s(3210);let i=()=>(0,a.jsxs)("div",{className:"relative overflow-hidden bg-[#cea5a1] py-2 sm:py-3 marquee",children:[(0,a.jsx)("div",{className:"absolute left-0 top-0 h-full w-6 sm:w-10 bg-gradient-to-r from-[#cea5a1] to-transparent z-10 pointer-events-none"}),(0,a.jsx)("div",{className:"absolute right-0 top-0 h-full w-6 sm:w-10 bg-gradient-to-l from-[#cea5a1] to-transparent z-10 pointer-events-none"}),(0,a.jsx)("div",{className:"marquee-track",children:[...Array(10)].map((e,t)=>(0,a.jsxs)("div",{className:"flex gap-x-4 px-2",children:[(0,a.jsxs)("button",{href:"/app/deals/page.js",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm text-black whitespace-nowrap transition",onClick:r,children:[(0,a.jsx)("span",{className:"text-sm sm:text-base",children:"\uD83C\uDF53"}),(0,a.jsx)("p",{className:"hover:underline",children:"Бесплатная доставка от 5000₽"})]}),(0,a.jsxs)("button",{href:"/app/deals/page.js",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm text-black whitespace-nowrap transition",onClick:r,children:[(0,a.jsx)("span",{className:"text-sm sm:text-base",children:"\uD83C\uDF53"}),(0,a.jsx)("p",{className:"hover:underline",children:"Открытка в подарок!"})]}),(0,a.jsxs)("button",{href:"/app/deals/page.js",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm text-black whitespace-nowrap transition",onClick:r,children:[(0,a.jsx)("span",{className:"text-sm sm:text-base",children:"\uD83C\uDF53"}),(0,a.jsx)("p",{className:"hover:underline",children:"Промокод 3% на первый заказ"})]})]},t))})]})}};