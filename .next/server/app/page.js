(()=>{var e={};e.id=974,e.ids=[974],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},978:(e,t,s)=>{Promise.resolve().then(s.bind(s,4468)),Promise.resolve().then(s.bind(s,9835))},1177:()=>{},2107:(e,t,s)=>{"use strict";s.d(t,{default:()=>m});var r=s(687),a=s(3210),n=s(6386),o=s(474);s(5866),s(2822),s(1177);var i=s(1626),l=s(2036),d=s(3729);let c=({images:e,productName:t})=>Array.isArray(e)&&0!==e.length?(0,r.jsx)("div",{children:(0,r.jsxs)(l.RC,{modules:[i.Vx],slidesPerView:1,navigation:{nextEl:".swiper-button-left",prevEl:".swiper-button-right"},className:"relative",centeredSlides:!0,children:[e.map((e,t)=>(0,r.jsx)(l.qr,{children:(0,r.jsx)(o.default,{src:e,alt:"bouquet",width:300,height:400,className:"object-cover rounded-md cursor-pointer m-auto w-100 h-130",loading:"lazy"})},t)),(0,r.jsx)(o.default,{src:d.A,alt:"arrow",width:30,className:"swiper-button-left"}),(0,r.jsx)(o.default,{src:d.A,alt:"arrow",height:30,className:"swiper-button-right"})]})}):(0,r.jsx)("p",{children:"Нет изображений"}),m=({id:e,title:t,category:s})=>{let{addToCart:i}=(0,n._)(),l="string"==typeof s?[s]:s,{products:d,loading:m,error:p}=function(){let[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)(!0),[n,o]=(0,a.useState)(null);return{products:e,loading:s,error:n}}(l),u=d.filter(e=>"string"==typeof e.category?l.includes(e.category):!!Array.isArray(e.category)&&e.category.some(e=>l.includes(e))),[x,h]=(0,a.useState)(null),[g,f]=(0,a.useState)(""),[b,j]=(0,a.useState)(0),[v,w]=(0,a.useState)(!1),[y,N]=(0,a.useState)(""),k=(0,a.useCallback)(e=>{h(e);let t=e.options.size?.[0],s=e.price?.[0];f(t||""),j(s||0),w(!0),N(e.image)},[]),P=(0,a.useCallback)(()=>{h(null),w(!1)},[]);return((0,a.useEffect)(()=>(v?(document.body.style.overflow="hidden",document.body.style.paddingRight=`${window.innerWidth-document.documentElement.clientWidth}px`):(document.body.style.overflow="",document.body.style.paddingRight=""),()=>{document.body.style.overflow="",document.body.style.paddingRight=""}),[v]),m)?(0,r.jsx)("div",{className:"loader",children:"Загрузка..."}):p?(0,r.jsxs)("p",{className:"text-red-500",children:["Ошибка: ",p]}):(0,r.jsxs)("section",{id:e,className:"my-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-center mb-4",children:t}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 w-11/12 ml-auto mr-auto",children:m?(0,r.jsx)("div",{className:"loader",children:"Загрузка..."}):p?(0,r.jsxs)("p",{className:"text-red-500",children:["Ошибка: ",p]}):0===u.length?(0,r.jsx)("p",{className:"text-center",children:"Нет товаров в этой категории."}):u.map(e=>{if(!e.name||!e.price||!e.image)return console.error(`Ошибка: отсутствуют обязательные данные для продукта с id ${e.id}`),null;let t=e.images&&Array.isArray(e.images)&&e.images.length>1;return(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md flex flex-col justify-between",children:[(0,r.jsx)("div",{className:"relative w-full 2x1:h-100",children:t?(0,r.jsx)(c,{images:e.images,productName:e.name}):(0,r.jsx)(o.default,{src:e.image,alt:e.name,className:"object-cover rounded-md cursor-pointer w-100 h-130",width:300,height:400,onClick:()=>k(e),loading:"lazy"})}),(0,r.jsx)("h3",{className:"mt-2 text-lg font-semibold",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-gray-500 line-clamp-2",children:e.description||"Без описания"}),(0,r.jsxs)("p",{className:"text-red-500 font-bold",children:[e.price[0]," ₽"]}),(0,r.jsx)("button",{className:"mt-2 bg-[#F1ADAE] text-white px-4 py-2 rounded-md shadow-md hover:bg-[#ec9898] transition",onClick:()=>k(e),children:"Заказать"})]},e.id)})}),v&&x&&(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-opacity-50 backdrop-blur-sm animate-fade-in overflow-y-auto py-8",onClick:P,children:(0,r.jsxs)("div",{className:"bg-white w-full max-w-lg p-6 rounded-2xl shadow-2xl transform transition-all scale-100 animate-fade-in max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("button",{className:"absolute top-4 right-4 text-xl font-bold text-gray-500",onClick:P}),(0,r.jsx)("h3",{className:"text-xl font-bold text-center mb-2",children:x.name}),(0,r.jsx)("p",{className:"text-gray-600 text-center",children:x.description||"Без описания"}),(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)(c,{images:x.images,productName:x.productName})}),(0,r.jsx)("div",{className:"flex",children:x.options.size?.map((e,t)=>r.jsx("div",{children:r.jsx("button",{onClick:()=>{f(e),j(x.price[t])},className:`${g===e?"bg-gray-300":""} rounded-2xl p-2 hover:bg-gray-100 transition-colors`,children:e})},t))}),(0,r.jsxs)("p",{className:"text-lg font-bold text-red-600 mb-4",children:["Итого: ",b," ₽"]}),(0,r.jsx)("button",{onClick:()=>{if(!g){alert("Выберите вариант!");return}i({...x,selectedOption:g,price:b}),P()},className:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600",children:"Добавить в корзину"})]})})]})}},2263:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(7413);s(1120);var a=s(4468);let n=()=>(0,r.jsxs)("header",{className:"bg-F8DAD8 text-center py-12",children:[(0,r.jsx)("h1",{className:"text-5xl font-bold text-9E0E05",children:"Свежая клубника в шоколаде и цветы"}),(0,r.jsx)("p",{className:"text-xl text-49321d mt-4",children:"Подарите радость и сладкие моменты"}),(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsx)(a.default,{})})]})},2660:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(7413),a=s(2263),n=s(9835);function o(){return(0,r.jsxs)("main",{children:[(0,r.jsx)(a.A,{}),(0,r.jsx)("section",{className:"text-center py-2",children:(0,r.jsx)("h2",{className:"text-4xl font-bold text-[#9E0E05]",children:"Лучшие букеты и клубника в шоколаде"})}),(0,r.jsx)(n.default,{id:"products",category:"popular",title:"Популярные товары"})," "]})}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4468:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Programming work\\\\New BerryShop\\\\src\\\\components\\\\Marquee.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Programming work\\New BerryShop\\src\\components\\Marquee.js","default")},4988:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=s(5239),a=s(8088),n=s(8170),o=s.n(n),i=s(893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(t,l);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,2660)),"D:\\Programming work\\New BerryShop\\src\\app\\page.js"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,5155)),"D:\\Programming work\\New BerryShop\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(s.bind(s,5583)),"D:\\Programming work\\New BerryShop\\src\\app\\not-found.js"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,5284,23)),"next/dist/client/components/unauthorized-error"]}],c=["D:\\Programming work\\New BerryShop\\src\\app\\page.js"],m={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6534:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(687),a=s(7590);function n(){a.Ay.success("Для большей информации свяжитесь с менеджером")}s(3210);let o=()=>(0,r.jsxs)("div",{className:"relative overflow-hidden bg-[#cea5a1] py-2 sm:py-3 marquee",children:[(0,r.jsx)("div",{className:"absolute left-0 top-0 h-full w-6 sm:w-10 bg-gradient-to-r from-[#cea5a1] to-transparent z-10 pointer-events-none"}),(0,r.jsx)("div",{className:"absolute right-0 top-0 h-full w-6 sm:w-10 bg-gradient-to-l from-[#cea5a1] to-transparent z-10 pointer-events-none"}),(0,r.jsx)("div",{className:"marquee-track",children:[...Array(10)].map((e,t)=>(0,r.jsxs)("div",{className:"flex gap-x-4 px-2",children:[(0,r.jsxs)("button",{href:"/app/deals/page.js",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm text-black whitespace-nowrap transition",onClick:n,children:[(0,r.jsx)("span",{className:"text-sm sm:text-base",children:"\uD83C\uDF53"}),(0,r.jsx)("p",{className:"hover:underline",children:"Бесплатная доставка от 5000₽"})]}),(0,r.jsxs)("button",{href:"/app/deals/page.js",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm text-black whitespace-nowrap transition",onClick:n,children:[(0,r.jsx)("span",{className:"text-sm sm:text-base",children:"\uD83C\uDF53"}),(0,r.jsx)("p",{className:"hover:underline",children:"Открытка в подарок!"})]}),(0,r.jsxs)("button",{href:"/app/deals/page.js",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm text-black whitespace-nowrap transition",onClick:n,children:[(0,r.jsx)("span",{className:"text-sm sm:text-base",children:"\uD83C\uDF53"}),(0,r.jsx)("p",{className:"hover:underline",children:"Промокод 3% на первый заказ"})]})]},t))})]})},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9130:(e,t,s)=>{Promise.resolve().then(s.bind(s,6534)),Promise.resolve().then(s.bind(s,2107))},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9835:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Programming work\\\\New BerryShop\\\\src\\\\components\\\\ProductsSection.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Programming work\\New BerryShop\\src\\components\\ProductsSection.js","default")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[447,403,437],()=>s(4988));module.exports=r})();